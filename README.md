<!DOCTYPE html> <html lang="zh"> <head> <meta charset="utf-8"/> <title>支持用户大家上传维护有问题可以直接提出问题在上诉我会不定期查看！上传代码审核通过后会更新，原则保持每个模块都是独立</title> <link rel="shortcut icon" href="https://www.mdeditor.com/images/logos/favicon.ico" type="image/x-icon"/> </head> <body><h1 id="h1-ydp_okhttp"><a name="ydp_okhttp" class="reference-link"></a><span class="header-link octicon octicon-link"></span>ydp_okhttp</h1><p>okhttp请求框架 简封装自用包含 </p> <pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-java"><span class="pln">allprojects </span><span class="pun">{</span></code></li><li class="L1"><code class="lang-java"><span class="pln"> repositories </span><span class="pun">{</span></code></li><li class="L2"><code class="lang-java"><span class="pln"> </span><span class="pun">...</span></code></li><li class="L3"><code class="lang-java"><span class="pln"> maven </span><span class="pun">{</span><span class="pln"> url </span><span class="str">'https://jitpack.io'</span><span class="pln"> </span><span class="pun">}</span></code></li><li class="L4"><code class="lang-java"><span class="pln"> </span><span class="pun">}</span></code></li><li class="L5"><code class="lang-java"><span class="pln"> </span><span class="pun">}</span></code></li></ol></pre> <pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-java"><span class="pln"> </span><span class="com">//添加依赖项</span></code></li><li class="L1"><code class="lang-java"><span class="pln"> dependencies </span><span class="pun">{</span></code></li><li class="L2"><code class="lang-java"><span class="pln"> implementation </span><span class="str">'com.github.yangdepengyang:ydp_okhttp:版本号'</span><span class="com">//0.0.1</span></code></li><li class="L3"><code class="lang-java"><span class="pln"> </span><span class="pun">}</span></code></li></ol></pre> <p> 使用技巧一</p> <pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-java"><span class="pln"> </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> map </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HashMap</span><span class="pun">&lt;&gt;();</span></code></li><li class="L1"><code class="lang-java"><span class="pln"> map</span><span class="pun">.</span><span class="pln">put</span><span class="pun">(</span><span class="str">"key"</span><span class="pun">,</span><span class="str">"值"</span><span class="pun">);</span></code></li><li class="L2"><code class="lang-java"><span class="pln"> </span><span class="typ">OKHttpUtils</span><span class="pun">.</span><span class="pln">newInstance</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">postAsyncData</span><span class="pun">(</span><span class="str">"请求地址"</span><span class="pun">,</span><span class="pln"> map</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MyCallBack</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="lang-java"><span class="pln"> </span><span class="lit">@Override</span></code></li><li class="L4"><code class="lang-java"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onFailure</span><span class="pun">(</span><span class="typ">IOException</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Call</span><span class="pln"> call</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> url</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code class="lang-java"></code></li><li class="L6"><code class="lang-java"><span class="pln"> </span><span class="pun">}</span></code></li><li class="L7"><code class="lang-java"></code></li><li class="L8"><code class="lang-java"><span class="pln"> </span><span class="lit">@Override</span></code></li><li class="L9"><code class="lang-java"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onResponse</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> result</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Call</span><span class="pln"> call</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> url</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0"><code class="lang-java"></code></li><li class="L1"><code class="lang-java"><span class="pln"> </span><span class="pun">}</span></code></li><li class="L2"><code class="lang-java"><span class="pln"> </span><span class="pun">});</span></code></li></ol></pre> <p> 技巧二</p> <pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-java"></code></li><li class="L1"><code class="lang-java"><span class="pln"> </span><span class="pun">继承回调</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">MyCallBack</span></code></li><li class="L2"><code class="lang-java"><span class="pln"> </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> map </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HashMap</span><span class="pun">&lt;&gt;();</span></code></li><li class="L3"><code class="lang-java"><span class="pln"> map</span><span class="pun">.</span><span class="pln">put</span><span class="pun">(</span><span class="str">"key"</span><span class="pun">,</span><span class="str">"值"</span><span class="pun">);</span></code></li><li class="L4"><code class="lang-java"><span class="pln"> </span><span class="typ">OKHttpUtils</span><span class="pun">.</span><span class="pln">newInstance</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">postAsyncData</span><span class="pun">(</span><span class="str">"请求地址"</span><span class="pun">,</span><span class="pln"> map</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">)</span></code></li></ol></pre> </body> </html>
